<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
  <meta charset="UTF-8">
  <title>Shoku - Job Search</title>
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/fonts.css">
  <link rel="stylesheet" href="css/classes.css">
  <link rel="stylesheet" href="css/main.css">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular-animate.js"></script>
  <script src="js/app.js"></script>
</head>
<body ng-controller="BodyController" ng-class="{activeJob: activeJob, sidebarOpen: sidebarOpen, isScrolled: h1px}">

  <!-- Background Image -->
  <img class="background" src="https://source.unsplash.com/random">

  <!-- Sidebar Button -->
  <div class="sideclick" ng-click="toggleSidebar();">
    <i class="material-icons">menu</i>
    <div class="link title">Shoku</div>
  </div>

  <!-- Top Search -->
  <input class="link search" type="text" ng-model="search" placeholder="Search Jobs">
  <i class="material-icons cancel" ng-show="search" ng-click="searchFor('');">clear</i>

  <!-- Heading -->
  <div class="heading">Daily Tech Jobs</div>
  <div class="hero">
    <input type="text" ng-model="search" placeholder="Search Jobs">
  </div>

  <!-- Sidebar -->
  <aside>
    <div class="link taglink" ng-click="openSources = !openSources;">Sources</div>
    <div class="tags" ng-class="{open: openSources}">
      <div ng-repeat="src in sources" class="link {{src.color}}" ng-class="{off: src.off}" ng-click="tagOff(src)">{{src.name}}</div>
    </div>
    <div class="link taglink" ng-click="openTags = !openTags;">Tags</div>
    <div class="tags" ng-class="{open: openTags}">
      <div ng-repeat="tag in fromContent" class="link {{tag.color}}" ng-class="{off: tag.off}" ng-click="tagOff(tag)">{{tag.name}}</div>
    </div>
    <div class="link taglink" ng-click="clearTags();" ng-show="openTags || openSources">Clear</div>
  </aside>

  <!-- Main -->
  <main>

    <div ng-repeat="company in companies | filter:search | filter:companyFilter | orderBy: '-latest' | limitTo:companyLimit" class="company" ng-class="{off: company.off}">
      <div class="company-name" ng-click="company.off = !company.off">{{company.name}}</div>
      <div ng-repeat="job in company.jobs | filter:search | filter:tagFilter | orderBy:'-date'" class="job" ng-class="{big: job.active}">
        <div class="job-info">
          <div class="job-title" href="{{job.url}}" ng-click="activateJob(job)">{{job.title}}</div>
          <a class="job-apply" href="{{job.url}}" ng-show="activeJob">Apply</a>
          <div class="job-close" ng-click="activateJob(job)" ng-show="activeJob">Close</div>
          <div class="job-tags">
            <div ng-repeat="tag in job.tags" ng-click="searchFor(tag);" class="{{getColor(tag)}} opaque">{{tag}}</div>
          </div>
          <div class="job-date">{{job.date | date:"EEE, MMM d 'at' h:mm a"}}</div>
        </div>
        <div class="job-description" ng-bind-html="job.content | trust"></div>
      </div>
    </div>

  </main>

  <!-- Footer -->
  <footer>
    <div class="link">About</div>
  </footer>
  <div class="link signin">Sign in/up</div>
</body>
</html>
